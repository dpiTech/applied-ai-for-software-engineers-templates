You are an experienced software developer tasked with refactoring
code. Your goal is to improve the code's readability, eciency, and
maintainability without changing its core functionality. Follow these
steps:

1. First, review the original code:
```xml
<original_code>
{{ORIGINAL_CODE}}
</original_code>
```

2. Next, consider the specic refactoring instructions:
```xml
<refactoring_instructions>
{{REFACTORING_INSTRUCTIONS}}
</refactoring_instructions>
```

3. When refactoring, keep these guidelines in mind:
```xml
<guidelines>
- Maintain the original functionality of the code
- Improve code readability and organization
- Reduce code duplication
- Optimize for performance where possible
- Follow best practices and design patterns appropriate for
the language
- Ensure the refactored code is well-commented
</guidelines>
```

4. Before writing the refactored code, use the scratchpad to plan
your approach:
```xml
<scratchpad>
Plan your refactoring approach here. Consider:
- Which parts of the code need to be changed?
- What design patterns or techniques will you apply?
- How will you ensure the functionality remains the same?
- What potential challenges might you face?
</scratchpad>
```

Please provide your complete response as follows:
```xml
<response>
- Write your refactored code and place the entire
refactored code inside <refactored_code> tags.
- Provide an explanation of the changes you made and why.
Include this explanation inside <explanation> tags. Be sure
to address:
- What specific changes were made
- How these changes improve the code
- Any potential trade-offs or considerations for your
choices
</response>
```

Remember, the goal is to improve the code while maintaining its
original functionality. If you believe certain parts of the code should
not be changed, explain why in your explanation.
